# Побудова та Аналіз Децентралізованих Систем
**Інженерний курс для магістрів прикладної математики.** *Від розподілених реєстрів до смарт-контрактів.*

Чому розподілені бази даних, які працюють неймовірно повільно і споживають величезну кількість ресурсів, змінили світову фінансову систему? Децентралізовані технології, починаючи від Bitcoin та закінчуючи екосистемою Decentralized Finance (DeFi) на Ethereum, довели, що можна створити систему довіри там, де учасники апріорі не довіряють одне одному. 

Для магістрів прикладної математики розуміння блокчейну виходить далеко за межі "написання смарт-контрактів". Це виклик на перетині **теорії ігор, розподілених алгоритмів (BFT-консенсуси), криптографії та економіки**. У цьому курсі ми розберемо: як працюють системи, коли будь-який вузол може бути зламаний або діяти зловмисно; чому "код — це закон", і які мільйонні збитки несе одна помилка у смарт-контракті; та як математично гарантується безпека і цілісність глобального стану у Web3 середовищі. Інженер, який розуміє ці фундаментальні обмеження та механізми, здатен проєктувати дійсно відмовостійкі архітектури майбутнього.

Всі матеріали курсу (лекції та практикуми) побудовані так, щоб повністю закрити вимоги офіційної робочої програми. Детальніше про те, яка лекція відповідає якій темі, читайте у довіднику [Відповідність РП](./syllabus_mapping.md).

---

## Лекційні матеріали (theory)

Тут знаходяться основні текстові матеріали курсу. Читати в порядку зростання.

### [Лекція 0: Вступ та Інженерна Реальність](./00_intro_distributed_systems.md)
* **Фокус:** Чому блокчейн — це повільна база даних?
* **Ключові теми:** Піраміда абстракції, Visa vs Bitcoin, Система оцінювання.

### [Лекція 1: Теорія розподілених систем](./01_distributed_systems_theory.md)
* **Фокус:** Фундаментальні обмеження (CAP) та еволюція алгоритмів.
* **Ключові теми:** Paxos, Raft, pBFT, PoW, PoS.

### [Лекція 2: Архітектура Bitcoin (UTXO)](./02_architecture_bitcoin_utxo.md)
* **Фокус:** Модель UTXO, структура блоку, Merkle Tree, скрипт і підписи.

### [Лекція 3: Архітектура Ethereum (EVM)](./03_architecture_ethereum_evm.md)
* **Фокус:** Модель рахунків, EVM, газ, state trie.

### [Лекція 4: Алгоритми консенсусу](./04_consensus_algorithms.md)
* **Фокус:** PoW та PoS у деталях, finality, slashing, Nothing at Stake.

### [Лекція 5: Смарт-контракти та Solidity](./05_smart_contracts_solidity.md)
* **Фокус:** Читання коду Solidity, стан, газ, require, патерни безпеки. Приклади з папки [solidity](https://github.com/vplanto/blockchain/tree/main/solidity) та Remix IDE.

### [Лекція 6: Масштабування та майбутнє](./06_scaling_future.md)
* **Фокус:** L2, rollups (optimistic та ZK), зв’язок безпеки з L1.

---

## Практикуми (Workshops)

Практичний досвід: робота з кодом у Remix IDE, приклади з папки [solidity](https://github.com/vplanto/blockchain/tree/main/solidity).

1. [p00: Remix та основи Solidity](./workshops/p00_remix_solidity_basics.md) — деплой, HelloWorld, серія Voter (v1–v4), читання коду.
2. [p01: Безпека (reentrancy, CEI)](./workshops/p01_security_checks_effects_interactions.md) — патерн Checks-Effects-Interactions, розбір Case Studies.

3. [p02: Фінансові примітиви DeFi](./workshops/p02_defi_financial_concepts.md) — розбір "на пальцях" як працюють Пули ліквідності (AMM), Арбітраж, Кредитне плече (Leverage) та Flash Loans.

## Оцінювання та Індивідуальні завдання

Система оцінювання курсу (100 балів) складається з поточного контролю на лекціях, курсу з блокчейн-фінансів та криптограмотності, а також 4 індивідуальних практичних завдань.
Детальний опис завдань та критеріїв оцінювання знаходяться тут: **[Індивідуальні завдання (100 балів)](./individual_tasks.md)**.

---

## Інтерактивні симуляції (Simulators)

Візуалізації, які ми використовуємо на лекціях для демонстрації роботи алгоритмів.  
*(Натисніть на назву, щоб відкрити симулятор у браузері)*

### ⚔️ Головна Проблема
* **[Проблема Візантійських Генералів](./consensus/byzantine_generals.html)** Візуалізація $O(N^2)$ трафіку та неможливості консенсусу при наявності зрадників.

### Клас A: CFT (Хмарні Системи)
*Алгоритми для закритих периметрів (Google, AWS, Kubernetes).*

1.  **[Paxos](./consensus/non-byzantine-algos/paxos.html)** — Академічний стандарт. Збір кворуму в умовах часткових відмов.
2.  **[Raft](./consensus/non-byzantine-algos/raft.html)** — Consensus via Strong Leader. Рандомізовані таймери.
3.  **[Viewstamped Replication](./consensus/non-byzantine-algos/viewstamped_replication.html)** — Детермінована ротація лідера ($Round-Robin$).

### Клас B: BFT (Блокчейн)
*Алгоритми для ворожого середовища (Public Internet).*

1.  **[pBFT](./consensus/byzantine_algos/pbft.html)** — Класичний BFT. Стійкість до 33% зрадників.
2.  **[Proof of Work](./consensus/byzantine_algos/pow.html)** — Bitcoin. Захист енергією (Mining & Hashing).
3.  **[Proof of Stake](./consensus/byzantine_algos/pos.html)** — Ethereum. Захист капіталом (Staking & Slashing).

---

### Корисні посилання

* [Репозиторій курсу (blockchain)](https://github.com/vplanto/blockchain)
* [Приклади коду Solidity](https://github.com/vplanto/blockchain/tree/main/solidity) — контракти HelloWorld, Voter (v1–v4) для Remix.
* [Remix IDE](https://remix.ethereum.org/) — онлайн-редактор для написання, компіляції та деплою смарт-контрактів (без встановлення).
